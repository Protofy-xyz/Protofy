(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6736],{6984:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/groups",function(){return r(31237)}])},31237:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return k}});var n=r(52322),a=r(3559),o=r(30195),i=r(33991),s=r(21044),l=r(50897),u=r(79562),c=r(1888),d=r(42783),p=r(48115),m=r(1201),f=r(2784),w=r(6289),g=r(26887);let _={},h="/adminapi/v1/groups",v="/adminapi/v1/workspaces";var x={groups:{component:e=>{var t,r;let{pageState:c,initialItems:x,pageSession:y,extraData:b}=e;(0,m.G)(()=>"At this moment the user is browsing the group management page. The group management page allows to list, create, read, update and delete groups, groups contain privileges (admin true/false) and are associated to users when creating users, in the field 'type'.\n      A group has a name, the privilege level (admin true/false), and a 0 or more workspaces associated. A workspace is a menu for the admin panel. If the user has more than one workspace, the admin panel will show a select list in the topbar to switch between workspaces.\n      "+((null==x?void 0:x.isLoaded)?"Currently the system returned the following information: "+JSON.stringify(x.data):""));let[k,j]=(0,f.useState)(null!==(t=null==b?void 0:b.workspaces)&&void 0!==t?t:(0,w.E)("pending"));return(0,g.a)(e=>{p.bl.get(v,e)},j,null==b?void 0:b.workspaces),(0,n.jsx)(i.D,{title:"Groups",pageSession:y,children:(0,n.jsx)(s.V,{integratedChat:!0,enableAddToInitialData:!0,disableViewSelector:!0,defaultView:"list",rowIcon:d.Q,sourceUrl:h,initialItems:x,numColumnsForm:1,name:"group",extraFieldsForms:{workspaces:o.z.array(o.z.union([o.z.literal(""),o.z.literal("")])).generateOptions(()=>{var e;return null===(e=k.data)||void 0===e?void 0:e.items.map(e=>e.name)}).after("name")},columns:l.Z.columns(l.Z.column("name",e=>e.name,"name",void 0,!0,"250px"),l.Z.column("workspaces",e=>e.workspaces,!1,e=>Object.keys(null!==(r=null==e?void 0:e.workspaces)&&void 0!==r?r:[]).length?Object.keys(e.workspaces).map((t,r)=>(0,n.jsx)(u.A,{ml:r?"$2":"$0",text:e.workspaces[t],color:"$color5"},t)):(0,n.jsx)(u.A,{text:"empty",color:"$gray5"}),!0,"200px")),model:a.d,pageState:c,icons:_,dataTableCardProps:{itemMinWidth:300}})})},getServerSideProps:(0,c.eq)(h,["admin"],{},async()=>({workspaces:await p.bl.get(v)}))}},y=r(97729),b=r.n(y);function k(e){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(b(),{children:(0,n.jsx)("title",{children:"Protofy - Groups"})}),(0,n.jsx)(x.groups.component,{...e})]})}},3559:function(e,t,r){"use strict";r.d(t,{d:function(){return s}});var n=r(75370),a=r(30195),o=r(54283);let i=n.V_.object({name:a.z.string().label("name").hint("user, admin, ...").static().id().search(),workspaces:a.z.array(a.z.string()).hidden(),permissions:a.z.array(a.z.string()).optional(),admin:a.z.boolean().optional()}),s=o.$.createDerived("GroupModel",i)},79562:function(e,t,r){"use strict";r.d(t,{A:function(){return l}});var n=r(52322),a=r(2784),o=r(8939),i=r(60545),s=r(70396);let l=e=>{let{loading:t,icon:r,text:l,bold:u,color:c,...d}=e;return(0,n.jsxs)(o.sL,{ai:"center",jc:"center",bc:null!=c?c:"$color5",p:2,px:"$3",br:25,...d,children:[r&&a.cloneElement(r,{size:20,strokeWidth:.7,color:"var(--color)"}),l&&(0,n.jsx)("span",{className:(0,s.concatClassName)("  is_SizableText _dsp-inline _bxs-border-box _ww-break-word _mt-0px _mr-0px _mb-0px _ml-0px   _o-0d0t9746  _col-675002279 _ff-299667014 _fow-233016047 _ls-167743966 _fos-229441127 _lh-222976480 font_body  "+(r?" _ml-1481558214":" _ml-1481558400")+" "+(u?" _fow-900":" _fow-400")),children:l}),t&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"  is_Spacer _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-9px _miw-9px _fs-0 _pe-none _w-9px _h-9px "}),(0,n.jsx)(i.$,{color:"var(--color8)",scale:.7,size:"small"})]})]})};r(71619)},1888:function(e,t,r){"use strict";r.d(t,{F7:function(){return i},eq:function(){return s}});var n=r(46149),a=r(6429),o=r(48115);let i=e=>n.l.SSR?e:void 0;function s(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return i(async i=>{var s,l,u,c,d,p;let m={itemsPerPage:parseInt(i.query.itemsPerPage)?parseInt(i.query.itemsPerPage):"",page:parseInt(i.query.page,10)?parseInt(i.query.page,10):"",search:null!==(s=i.query.search)&&void 0!==s?s:"",orderBy:null!==(l=i.query.orderBy)&&void 0!==l?l:"",orderDirection:null!==(u=i.query.orderDirection)&&void 0!==u?u:"",view:null!==(c=i.query.view)&&void 0!==c?c:"",item:null!==(d=i.query.item)&&void 0!==d?d:"",editFile:null!==(p=i.query.editFile)&&void 0!==p?p:"",..."function"==typeof r?await r(i):r},f="function"==typeof e?e(i):e;return(0,a.NA)(i,t,{sourceUrl:f,initialItems:await o.bl.get({url:(0,a.VM)(f,i),...m}),itemData:i.query.item?await o.bl.get((0,a.VM)(f+"/"+i.query.item,i)):"",extraData:{..."function"==typeof n?await n(i):n},pageState:{...m}})})}},71619:function(){}},function(e){e.O(0,[4837,8641,8081,4733,1335,8873,2859,6313,3950,5250,2423,6697,9224,6133,986,8837,4011,2029,5571,9774,2888,179],function(){return e(e.s=6984)}),_N_E=e.O()}]);