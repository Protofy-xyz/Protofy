(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5313],{59872:function(e,r,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/messages",function(){return s(84492)}])},84492:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return N}});var t=s(52322),_=s(13043),i=s(91838),o=s(94484),l=s(40214),a=s(10836),n=s(1888),d=s(66137),x=s(39684),p=s(8939),c=s(2784),b=s(57643),m=s(78161),u=s(87656);let f=e=>{let{color:r="black",size:s=24,..._}=e;return(0,t.jsxs)(u.Svg,{width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:`${r}`,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",..._,children:[(0,t.jsx)(u.Path,{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",stroke:`${r}`}),(0,t.jsx)(u.Path,{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",stroke:`${r}`}),(0,t.jsx)(u.Circle,{cx:"12",cy:"12",r:"2",stroke:`${r}`}),(0,t.jsx)(u.Path,{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",stroke:`${r}`}),(0,t.jsx)(u.Path,{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",stroke:`${r}`})]})};f.displayName="Radio";let h=(0,c.memo)((0,m.H)(f)),w=e=>{let{data:r,topic:s}=e;return(0,t.jsx)("div",{className:"  _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _pt-1481558152 _pr-1481558152 _pb-1481558152 _pl-1481558152 _ml-1481558400 _ai-center _jc-center ",children:(0,t.jsxs)("div",{className:"  _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 ",children:[(0,t.jsx)("div",{className:"  _bg-0hover-549765387 _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _l--6px _cur-pointer _ai-center _mb-1481558214 _pt-3px _pb-3px _pr-1481558214 _pl-1481558214 _btlr-4px _btrr-4px _bbrr-4px _bblr-4px _w-797770429 _ml-1481558152 ",children:(0,t.jsxs)("div",{className:"  _o-0hover-1 _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _ai-center _o-0d0t946 ",children:[(0,t.jsx)(h,{color:"var(--color7)",strokeWidth:2,size:20}),(0,t.jsx)("span",{className:"  _col-675002279 _dsp-inline _bxs-border-box _ww-break-word _mt-0px _mr-0px _mb-0px _ml-1481558214 _o-0d0t946 _fos-14px _fow-500 ",children:s})]})}),(0,t.jsx)(_.Z,{onChange:()=>{},editable:!1,data:r,collapsible:!0,compact:!1,defaultCollapsed:!1},JSON.stringify(r))]})})},v=()=>{let[e,r]=(0,c.useState)(.3);return(0,b.Yz)(()=>{r(.3==e?.1:.3)},500),(0,t.jsxs)(i.I,{children:[(0,t.jsx)(p.sL,{o:e,animation:"lazy",children:(0,t.jsx)(h,{strokeWidth:1.4,size:100})}),(0,t.jsx)("h2",{className:"  is_H2 _col-675002279 _dsp-inline _bxs-border-box _ww-break-word _mt-10px _mr-0px _mb-0px _ml-0px _tt-230633015 _ff-299667014 _fow-400 _ls-167744214 _fos-20px _lh-222976728 _ussel-auto _o-0d0t346 font_heading ",children:"Waiting for messages"})]})};var j={messages:{component:e=>{let{pageSession:r}=e,[s,_]=(0,c.useState)([]),[n,d]=(0,c.useState)(""),{topic:m,client:u,message:f}=(0,x.mU)("#"),{tint:h}=(0,o.d5)();(0,b.rf)(()=>{_([f,...s])},[f]);let j=e=>{let r;try{r=JSON.parse(e)}catch(s){r=e+""}return r},g=s.filter(e=>!n||JSON.stringify(e).includes(n));return(0,t.jsx)(l.D,{title:"Messages",pageSession:r,children:(0,t.jsxs)("div",{className:"  _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-1 _fg-1 ",children:[(0,t.jsx)("div",{className:"  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _pt-1481558152 _pr-1316330300 _pl-1316330300 _mb-1316330238 ",children:(0,t.jsx)("div",{className:"  _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-1 _l--12px _t-9px _fg-1 _ai-center ",children:(0,t.jsx)("p",{className:"  is_Paragraph _col-675002279 _dsp-inline _bxs-border-box _ww-break-word _mt-0px _mr-0px _mb-0px _ml-0px _ff-299667014 _fow-233016140 _ls-167744059 _fos-229441220 _lh-222976573 _ussel-auto font_body ",children:(0,t.jsxs)("span",{className:"  _dsp-inline _bxs-border-box _ww-break-word _mt-0px _mr-0px _mb-0px _ml-0px _fos-229441251 _col-137137671 ",children:["Messages [",(0,t.jsx)(i.I,{children:(0,t.jsx)("span",{className:"  _dsp-inline _bxs-border-box _ww-break-word _mt-0px _mr-0px _mb-0px _ml-0px _fos-229441251 _o-1 _col-137137640 ",children:g.length})}),"]"]})})})}),!g.length&&(0,t.jsx)(a.Z,{top:-100,children:(0,t.jsx)(v,{})}),g.map((e,r)=>{let s=j(e.message);return(0,t.jsx)(p.sL,{hoverStyle:{bc:"$"+h+"4"},btw:r?0:1,bbw:1,boc:"$color4",children:(0,t.jsx)(i.I,{children:(0,t.jsx)(w,{data:s,topic:e.topic})})},r)})]})})},getServerSideProps:(0,n.F7)(async e=>(0,d.NA)(e,["admin"]))}};s(77931);var g=s(97729),y=s.n(g);function N(e){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(y(),{children:(0,t.jsx)("title",{children:"Protofy - Messages"})}),(0,t.jsx)(j.messages.component,{...e})]})}},1888:function(e,r,s){"use strict";s.d(r,{F7:function(){return o},eq:function(){return l}});var t=s(44499),_=s(66137),i=s(48115);let o=e=>t.l.SSR?e:void 0;function l(e,r){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o(async o=>{var l,a,n,d,x,p;let c={itemsPerPage:parseInt(o.query.itemsPerPage)?parseInt(o.query.itemsPerPage):"",page:parseInt(o.query.page,10)?parseInt(o.query.page,10):"",search:null!==(l=o.query.search)&&void 0!==l?l:"",orderBy:null!==(a=o.query.orderBy)&&void 0!==a?a:"",orderDirection:null!==(n=o.query.orderDirection)&&void 0!==n?n:"",view:null!==(d=o.query.view)&&void 0!==d?d:"",item:null!==(x=o.query.item)&&void 0!==x?x:"",editFile:null!==(p=o.query.editFile)&&void 0!==p?p:"",..."function"==typeof s?await s(o):s},b="function"==typeof e?e(o):e;return(0,_.NA)(o,r,{sourceUrl:b,initialItems:await i.bl.get({url:(0,_.VM)(b,o),...c}),itemData:o.query.item?await i.bl.get((0,_.VM)(b+"/"+o.query.item,o)):"",extraData:{..."function"==typeof t?await t(o):t},pageState:{...c}})})}},77931:function(){}},function(e){e.O(0,[9331,359,3846,2516,1004,3043,5685,214,9774,2888,179],function(){return e(e.s=59872)}),_N_E=e.O()}]);