(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[727],{53493:function(e,t,s){"use strict";let r;s.d(t,{D:function(){return e2}});var o=s(52322),i=s(6429),a=s(1201),l=s(43115),n=s(46835),c=s(8939),d=s(89929),p=s(9491);let x=e=>{let{panelBgColor:t,menuContent:s,children:r,SideMenu:i,Layout:a,headerContents:l,HeaderMenu:n}=e,x="$bgPanel";return(0,o.jsx)(a,{header:(0,o.jsx)(p.Z,{height:55,fullscreen:!0,dettached:!1,translucid:!1,position:"top",backgroundColor:x,children:(0,o.jsx)("div",{className:"  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-1 _ml-1316330238 _jc-441309761 _fg-1 ",children:l})}),sideMenu:(0,o.jsx)(i,{mt:55,sideBarColor:x,children:s}),footer:null,children:(0,o.jsx)(c.sL,{f:1,p:"$3",bc:x,children:(0,o.jsx)(c.sL,{bc:x,elevation:3,br:"$6",mt:55,f:1,height:"calc(100vh - 85px)",children:(0,o.jsx)(d.p,{$sm:{br:"$0"},height:"calc(100vh - 85px)",children:(0,o.jsx)(c.FA,{br:"$6",bc:null!=t?t:"$bgContent",f:1,minHeight:"calc(100vh - 85px)",flex:1,children:r})})})})})};s(80253);var _=s(78858);let h=e=>{let{sideBarColor:t="$background",children:s,...r}=e;return(0,o.jsx)(c.FA,{bw:0,bc:t,...r,children:(0,o.jsx)("div",{style:{overflowY:"auto"},className:"  _ai-stretch _dsp-flex _fd-column _bxs-border-box _pos-relative _mih-0px _miw-0px  _w-245px _h-0 _fg-1 _fs-1 _fb-auto  _dsp-_sm_none",children:s})})};s(18891);let u=e=>(0,o.jsx)(h,{...e});var b=s(85280),f=s(65884),m=s(82945),j=s(95451),v=s(2784);let g=e=>{let{search:t,setSearch:s,searchName:r}=(0,v.useContext)(n.c);return(0,o.jsx)(x,{Layout:f.H,headerContents:(0,o.jsx)(b.p,{leftArea:(0,o.jsx)(_.o,{placeholder:"Search in "+r,initialState:t,defaultOpened:!0,onSearch:s}),topBar:e.topBar,menu:(0,o.jsx)(m.y,{menuPlacement:"bottom",children:(0,o.jsx)(j.q,{})})}),SideMenu:u,...e})};var w=s(48715),y=s(51745),k=s(1050),z=s(66788),C=s(93981),N=s(60166),$=s(97212),S=s(68604),W=s(50042),P=s(42783),T=s(60633),L=s(41463),I=s(32627),O=s(3588),A=s(52596),R=s(86525),V=s(84413),E=s(74836),F=s(51612),q=s(70631),K=s(96714),Z=s(40811),B=s(30066),D=s(10327),J=s(20579),M=s(41585),U=s(66132),H=s(7458),G=s(99981),Y=s(30975),Q=s(87153),X=s(40198),ee=s(18626),et=s(83103),es=s(41473),er=s(84291),eo=s(45734),ei=s(59928),ea=s(5632),el=s(6289),en=s(48115),ec=s(51813),ed=s(25903),ep=s(80064),ex=s(66444),e_=s(91838);let eh="$color7",eu={database:(0,o.jsx)(k.x,{color:eh,size:20,opacity:1,strokeWidth:2}),model:(0,o.jsx)(z.x,{color:eh,size:20,opacity:1,strokeWidth:2}),api:(0,o.jsx)(W.h,{color:eh,size:20,opacity:1,strokeWidth:2}),create:(0,o.jsx)(S.v,{color:eh,size:20,opacity:1,strokeWidth:2}),users:(0,o.jsx)(P.Q,{color:eh,size:20,opacity:1,strokeWidth:2}),events:(0,o.jsx)(L.i,{color:eh,size:20,opacity:1,strokeWidth:2}),zap:(0,o.jsx)(L.i,{color:eh,size:20,opacity:1,strokeWidth:2}),automation:(0,o.jsx)(T.w,{color:eh,size:20,opacity:1,strokeWidth:2}),groups:(0,o.jsx)(I.V,{color:eh,size:20,opacity:1,strokeWidth:2}),library:(0,o.jsx)(O.Z,{color:eh,size:20,opacity:1,strokeWidth:2}),lamp:(0,o.jsx)(A.d,{color:eh,size:20,opacity:1,strokeWidth:2}),function:(0,o.jsx)(R.r,{color:eh,size:20,opacity:1,strokeWidth:2}),factory:(0,o.jsx)(V.F,{color:eh,size:20,opacity:1,strokeWidth:2}),leaf:(0,o.jsx)(E.B,{color:eh,size:20,opacity:1,strokeWidth:2}),chart:(0,o.jsx)(F.w,{color:eh,size:20,opacity:1,strokeWidth:2}),replace:(0,o.jsx)(q.B,{color:eh,size:20,opacity:1,strokeWidth:2}),replaceAll:(0,o.jsx)(K.E,{color:eh,size:20,opacity:1,strokeWidth:2}),boxes:(0,o.jsx)(C.I,{color:eh,size:20,opacity:1,strokeWidth:2}),box:(0,o.jsx)(z.x,{color:eh,size:20,opacity:1,strokeWidth:2}),book:(0,o.jsx)(Z.f,{color:eh,size:20,opacity:1,strokeWidth:2}),bottle:(0,o.jsx)(B.F,{color:eh,size:20,opacity:1,strokeWidth:2}),layout:(0,o.jsx)(D.A,{color:eh,size:20,opacity:1,strokeWidth:2}),doorOpen:(0,o.jsx)(J.a,{color:eh,size:20,opacity:1,strokeWidth:2}),cpu:(0,o.jsx)(M.x,{color:eh,size:20,opacity:1,strokeWidth:2}),board:(0,o.jsx)(U.b,{color:eh,size:20,opacity:1,strokeWidth:2}),layoutList:(0,o.jsx)(G.J,{color:eh,size:20,opacity:1,strokeWidth:2}),columns:(0,o.jsx)(H.o,{color:eh,size:20,opacity:1,strokeWidth:2}),unplug:(0,o.jsx)(Y.G,{color:eh,size:20,opacity:1,strokeWidth:2}),human:(0,o.jsx)(Q.$,{color:eh,size:20,opacity:1,strokeWidth:2}),bookOpen:(0,o.jsx)(X.p,{color:eh,size:20,opacity:1,strokeWidth:2}),serverConf:(0,o.jsx)(ee.u,{color:eh,size:20,opacity:1,strokeWidth:2}),activity:(0,o.jsx)(et.l,{color:eh,size:20,opacity:1,strokeWidth:2}),alert:(0,o.jsx)(es.u,{color:eh,size:20,opacity:1,strokeWidth:2})},eb=e=>"string"!=typeof e?(0,o.jsx)(e,{color:eh,size:20,opacity:1,strokeWidth:2}):eu[e]?eu[e]:(0,o.jsx)($.g,{color:eh,size:20,opacity:1,strokeWidth:2}),ef=e=>{var t,s,r,i;let{subtab:a}=e,[l,n]=(0,v.useState)(""),[c,d]=(0,v.useState)((0,el.E)("pending")),p=a.options.templates[0];if(!p)throw"Invalid template specified in workspace file: "+a.options.templates[0];return(0,o.jsx)("div",{onClick:()=>{},className:"  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 ",children:(0,o.jsx)(ec.a,{onAccept:async e=>{let t=await en.bl.post("/adminapi/v1/templates/"+a.options.templates[0].options.type,{name:l,data:{options:a.options.templates[0].options,path:a.path}});t.isLoaded?(n(""),e(!1),d((0,el.E)("pending"))):d(t)},title:null!==(s=p.title)&&void 0!==s?s:"Create a new "+a.options.templates[0],trigger:(0,o.jsx)(ed.k,{icon:eb(a.icon),text:a.name,mb:"$4"}),description:null!==(r=p.description)&&void 0!==r?r:"Use a simple name for your "+a.options.templates[0]+", related to what your "+a.options.templates[0]+" does.",children:(0,o.jsxs)("div",{className:"  _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-1 _fg-1 _jc-center _ai-center ",children:[c.isError?(0,o.jsxs)("p",{className:"  is_Paragraph _dsp-inline _bxs-border-box _ww-break-word _mt-0px _mr-0px _mb-1316330238 _ml-0px _col-1094904378 _ff-299667014 _fow-233016140 _ls-167744059 _fos-229441220 _lh-222976573 _ussel-auto font_body ",children:["Error: ",null===(t=c.error)||void 0===t?void 0:t.error]}):null,(0,o.jsx)(er.II,{value:l,onChangeText:e=>n(e),f:1,mx:"$8",textAlign:"center",id:"name",placeholder:null!==(i=p.placeholder)&&void 0!==i?i:"name..."})]})})})},em=e=>{let{subtabs:t}=e,s=(0,ea.useRouter)(),r=(0,v.useContext)(ep.z);return(0,o.jsx)(o.Fragment,{children:t.map((e,t)=>{if("create"==e.type)return(0,o.jsx)(ef,{subtab:e},t);let i=("/"==r.workspaceRoot?"":r.workspaceRoot)+"/"+(e.type+e.path).replace(/\/+/g,"/");return(0,o.jsx)(ex.rU,{href:i,children:(0,o.jsx)(e_.I,{children:(0,o.jsx)(ed.k,{selected:s.asPath.startsWith(i.replace(/\/$/,"")),icon:eb(e.icon),text:e.name})})},t)})})},ej=e=>{let{tabs:t}=e;return t?(0,o.jsx)(o.Fragment,{children:Object.keys(t).map((e,s)=>void 0===t[e].length?(0,o.jsx)(em,{subtabs:[t[e]]}):(0,o.jsx)(eo.U,{defaultValue:["a"+s],br:"$6",overflow:"hidden",type:"multiple",children:(0,o.jsxs)(eo.U.Item,{value:"a"+s,children:[(0,o.jsx)(eo.U.Trigger,{backgroundColor:"$backgroundTransparent",focusStyle:{backgroundColor:"$backgroundTransparent"},hoverStyle:{backgroundColor:"$backgroundTransparent"},bw:0,flexDirection:"row",justifyContent:"space-between",children:t=>{let{open:s}=t;return(0,o.jsxs)("div",{className:"  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-1 _fg-1 ",children:[(0,o.jsx)(ei.b,{animation:"quick",rotate:s?"0deg":"-90deg",children:(0,o.jsx)(N._,{size:"$1"})}),(0,o.jsx)("span",{className:"  is_SizableText _col-675002279 _dsp-inline _bxs-border-box _ww-break-word _mt-0px _mr-0px _mb-0px _ml-1316330145 _ff-299667014 _fow-233016171 _ls-167744090 _fos-229441251 _lh-222976604 _fg-1 _fs-1 _fb-auto font_body ",children:e})]})}}),(0,o.jsx)(eo.U.Content,{pl:"$0",backgroundColor:"$backgroundTransparent",pt:"$0",children:(0,o.jsx)(em,{subtabs:t[e]})})]})},s))}):(0,o.jsx)(o.Fragment,{})},ev=e=>{let{workspace:t}=e;return(0,o.jsx)("div",{className:"  _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _pt-1316330331 ",children:(0,o.jsx)(ej,{tabs:t.menu})})};s(2648);var eg=s(80354),ew=s(71932),ey=s(30),ek=s(65058),ez=s(752),eC=s(87809),eN=s(86838),e$=s(13043),eS=s(94484),eW=s(65126),eP=s(17277),eT=s(17289),eL=s(76929),eI=s(74254),eO=s(28031),eA=s(67825),eR=s(78215),eV=s(21228),eE=s(19133),eF=s(85594);let eq="undefined"!=typeof document?("https:"===document.location.protocol?"wss":"ws")+"://"+document.location.host+"/websocket":"",eK=(0,ek.cn)([]),eZ=()=>{let[e,t]=(0,ez.KO)(eK);return(0,v.useEffect)(()=>{if(!r){let e=eF.Z.connect(eq);return e.on("connect",function(){e.subscribe("logs/#",function(e){e||console.log("connected to logs")})}),e.on("message",function(e,s){let r=s.toString();t(t=>[{topic:e,message:JSON.parse(r)},...t.slice(0,100)])}),()=>{e.end()}}},[]),[e,t]},eB="  _col-675002279 _dsp-inline _bxs-border-box _ww-break-word _mt-0px _mr-0px _mb-0px _ml-0px ",eD="  _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 ",eJ={10:{name:"TRACE",color:"$green3",icon:eL.x},20:{name:"DEBUG",color:"$color4",icon:eI.t},30:{name:"INFO",color:"$color7",icon:eO.k},40:{name:"WARN",color:"$yellow7",icon:eA.b},50:{name:"ERROR",color:"$red7",icon:eR.a},60:{name:"FATAL",color:"$red10",icon:eV.m}},eM=v.memo(e=>{var t,s;let{data:r,topic:i}=e,a=i.split("/")[1],l=i.split("/")[2],n=null===(t=eJ[l])||void 0===t?void 0:t.icon,{level:c,time:d,pid:p,hostname:x,msg:_,name:h,...u}=r;return(0,o.jsx)("div",{className:"  _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _pt-1481558152 _pr-1481558152 _pb-1481558152 _pl-1481558152 _ml-1481558400 _ai-center _jc-center ",children:(0,o.jsxs)("div",{className:eD,children:[(0,o.jsx)("div",{className:"  _bg-0hover-549765387 _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _l--12px _cur-pointer _ai-center _mb-1481558214 _pt-3px _pb-3px _pr-1481558214 _pl-1481558214 _w-797770429 _ml-1481558152 ",children:(0,o.jsxs)("div",{className:"  _o-0hover-1 _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _ai-center _o-0d0t946 ",children:[(0,o.jsx)("div",{className:"  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _mr-1481558214 ",children:(0,o.jsx)(n,{size:20,strokeWidth:2,color:null===(s=eJ[l])||void 0===s?void 0:s.color})}),(0,o.jsxs)("span",{className:"  _col-675002279 _dsp-inline _bxs-border-box _ww-break-word _mt-0px _mr-0px _mb-0px _ml-0px _o-0d0t746 _fos-14px _fow-500 ",children:["[",a,"]"]}),(0,o.jsx)("span",{className:"  _col-675002279 _dsp-inline _bxs-border-box _ww-break-word _mt-0px _mr-0px _mb-0px _ml-1481558152 _o-0d0t946 _fos-14px _fow-500 ",children:r.msg})]})}),(0,o.jsx)(e$.Z,{onChange:()=>{},editable:!1,data:u,collapsible:!0,compact:!1,defaultCollapsed:!1},JSON.stringify(u))]})})}),eU=e=>{let{AppState:t}=e,[s,r]=(0,ez.KO)(t),[i,a]=eZ(),[l,n]=(0,v.useState)([]),[p,x]=(0,v.useState)("");(0,v.useEffect)(()=>{n(i.filter(e=>{let t=null==e?void 0:e.topic;t.split("/")[1];let r=eJ[t.split("/")[2]];return r&&JSON.stringify(e).toLowerCase().includes(p.toLocaleLowerCase())&&s.levels.includes(r.name.toLocaleLowerCase())}))},[p,i,s.levels]),(0,v.useEffect)(()=>{s.levels||r({...s,levels:initialLevels})},[s.levels]);let{tint:_}=(0,eS.d5)(),h=e=>{let{levels:t}=s;r({...s,levels:t.includes(e)?t.filter(t=>t!==e):[...t,e]})},u=v.useMemo(()=>({bc:"$"+_+"4"}),[_]);return(0,o.jsxs)("div",{className:eD,children:[(0,o.jsxs)("div",{className:"  _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _ai-center _bg-115898854 ",children:[(0,o.jsx)(er.II,{focusStyle:{borderLeftWidth:0,borderRightWidth:0,borderTopWidth:0,borderBottomWidth:1,outlineWidth:0},borderBottomWidth:1,forceStyle:"focus",br:0,backgroundColor:"$backgroundTransparent",value:p,width:"100%",onChangeText:e=>{x(e)},placeholder:"Filter logs...",bw:0,paddingLeft:80}),(0,o.jsx)(eN.J2,{placement:"bottom-start",children:(0,o.jsx)(eN.J2.Trigger,{position:"absolute",children:(0,o.jsx)(ew.z,{size:20,Icon:eT.K,onPress:()=>a([])})})}),(0,o.jsxs)(eN.J2,{placement:"bottom-start",children:[(0,o.jsx)(eN.J2.Trigger,{position:"absolute",left:35,children:(0,o.jsx)(ew.z,{size:20,Icon:eE.w})}),(0,o.jsx)(eN.J2.Content,{padding:0,space:0,bw:1,boc:"$borderColor",bc:"$color1",children:(0,o.jsxs)(eW.Z,{mode:"vertical",children:[(0,o.jsxs)(eP.Z,{onPress:()=>h("trace"),jc:"flex-start",inActive:!s.levels||!s.levels.includes("trace"),children:[(0,o.jsx)(eL.x,{size:"$1",strokeWidth:1}),(0,o.jsx)("span",{className:eB,children:"Trace"})]}),(0,o.jsxs)(eP.Z,{onPress:()=>h("debug"),jc:"flex-start",inActive:!s.levels||!s.levels.includes("debug"),children:[(0,o.jsx)(eI.t,{size:"$1",strokeWidth:1}),(0,o.jsx)("span",{className:eB,children:"Debug"})]}),(0,o.jsxs)(eP.Z,{onPress:()=>h("info"),jc:"flex-start",inActive:!s.levels||!s.levels.includes("info"),children:[(0,o.jsx)(eO.k,{size:"$1",strokeWidth:1}),(0,o.jsx)("span",{className:eB,children:"Info"})]}),(0,o.jsxs)(eP.Z,{onPress:()=>h("warn"),jc:"flex-start",inActive:!s.levels||!s.levels.includes("warn"),children:[(0,o.jsx)(eA.b,{size:"$1",strokeWidth:1}),(0,o.jsx)("span",{className:eB,children:"Warn"})]}),(0,o.jsxs)(eP.Z,{onPress:()=>h("error"),jc:"flex-start",inActive:!s.levels||!s.levels.includes("error"),children:[(0,o.jsx)(eR.a,{size:"$1",strokeWidth:1}),(0,o.jsx)("span",{className:eB,children:"Error"})]}),(0,o.jsxs)(eP.Z,{onPress:()=>h("fatal"),jc:"flex-start",inActive:!s.levels||!s.levels.includes("fatal"),children:[(0,o.jsx)(eV.m,{size:"$1",strokeWidth:1}),(0,o.jsx)("span",{className:eB,children:"Fatal"})]})]})})]})]}),(0,o.jsx)(d.p,{bc:"transparent",f:1,height:"calc( 100vh - 130px )",children:l.map((e,t)=>(0,o.jsx)(c.sL,{bc:"transparent",hoverStyle:u,btw:0,bbw:1,boc:"$color4",children:(0,o.jsx)(e_.I,{children:(0,o.jsx)(eM,{data:e.message,topic:e.topic})})},t))})]})};s(77547);let eH=()=>{let e=(0,i._O)(),[t,s]=(0,i.Fl)();return t.workspace?(0,o.jsx)(w.E,{triggerProps:{o:.8,bc:"transparent",bw:0},valueProps:{o:.8},f:1,title:"workspaces",value:t.workspace,elements:e,setValue:e=>{s({...t,workspace:e})}}):null},eG=(0,eC.O4)("adminPanelAppState",{logsPanelOpened:!1,levels:["info","warn","error","fatal"]}),eY=(0,ek.cn)(20),eQ=e=>{let{children:t}=e,[s]=(0,i.Fl)(),r=(0,i._O)(),[a,l]=(0,ez.KO)(eG),[n,c]=(0,ez.KO)(eY),d=s&&s.workspace?s.workspace:r[0],p=()=>{let e=Math.max(400,window.innerWidth);return 400/e*100};return(0,v.useEffect)(()=>{n||c(p())},[n]),n&&(0,o.jsx)(y.Z,{borderLess:!0,rightPanelSize:n,setRightPanelSize:c,rightPanelStyle:{marginRight:"20px",height:"calc(100vh - 85px)",marginTop:"68px",backgroundColor:"transparent"},rightPanelVisible:a.logsPanelOpened,rightPanelResizable:!0,centerPanelContent:eg.Z[d]?(0,o.jsx)(g,{topBar:(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{className:"  _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _ai-center ",children:[(0,o.jsx)("div",{className:"  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 ",children:r.length>1&&(0,o.jsx)(eH,{})}),(0,o.jsx)(ew.z,{onPress:()=>l({...a,logsPanelOpened:!a.logsPanelOpened}),IconColor:"var(--color)",Icon:ey.c})]})}),menuContent:(0,o.jsx)(ev,{workspace:eg.Z[d]}),children:(0,o.jsx)("div",{className:"  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-1 _fg-1 _pr-1481558400 _pl-1481558400 _fw-wrap ",children:t})}):(0,o.jsx)(o.Fragment,{}),rightPanelContent:(0,o.jsx)(eU,{AppState:eG})})};s(35092);var eX=s(25237),e0=s.n(eX);let e1=e0()(()=>Promise.all([s.e(8531),s.e(1412)]).then(s.bind(s,81412)),{loadableGenerated:{webpack:()=>[81412]},ssr:!1}),e2=(0,v.forwardRef)((e,t)=>{let{pageSession:s,title:r,children:c,integratedChat:d=!0}=e;(0,i.kP)(s);let[p,x]=(0,v.useState)(""),[_,h]=(0,v.useState)(""),[u]=(0,ez.KO)(eG);return(0,a.G)(()=>'The user is browsing an admin page in the admin panel. The title of the admin page is: "'.concat(r,'"')),(0,o.jsxs)(l.T,{ref:t,title:"Protofy - "+r,backgroundColor:"$bgPanel",children:[(0,o.jsx)(n.c.Provider,{value:{search:p,setSearch:x,searchName:_,setSearchName:h},children:(0,o.jsx)(eQ,{children:c})}),(0,o.jsx)(e_.I,{children:d&&(0,o.jsx)(e1,{tags:["doc",r]})})]})})},51813:function(e,t,s){"use strict";s.d(t,{a:function(){return b}});var r=s(52322),o=s(60545),i=s(99272),a=s(9393),l=s(66306),n=s(2784),c=s(91838),d=s(53726),p=s(10836),x=s(25237),_=s.n(x);let h="  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-1 _fg-1 ",u=_()(()=>Promise.all([s.e(8531),s.e(1412)]).then(s.bind(s,81412)),{loadableGenerated:{webpack:()=>[81412]},ssr:!1}),b=(0,n.forwardRef)((e,t)=>{let{showCancel:s,hideAccept:x,onAccept:_=()=>{},onCancel:b=()=>{},title:f,trigger:m,description:j,children:v,cancelCaption:g="Cancel",acceptCaption:w="Accept",acceptTint:y,cancelTint:k="gray",acceptButtonProps:z={},cancelButtonProps:C={},open:N,setOpen:$,disableDrag:S=!1,integratedChat:W=!1,...P}=e,[T,L]=(0,n.useState)(!1),[I,O]=(0,n.useState)(!1),[A,R]=(0,n.useState)(),V=void 0!==$?$:L,E=void 0!==$?N:T;(0,n.useEffect)(()=>{E||R(void 0)},[E]);let F=void 0!==N?N:T;return(0,r.jsxs)(i.Vq,{ref:t,open:F,onOpenChange:void 0!==$?$:L,children:[m&&(0,r.jsx)(i.Vq.Trigger,{children:m}),(0,r.jsxs)(i.Vq.Portal,{children:[(0,r.jsx)(i.Vq.Overlay,{}),(0,r.jsxs)(i.Vq.Content,{scale:1,p:"$7",ai:"flex-start",jc:"flex-start",...P,children:[W&&F&&(0,r.jsx)(c.I,{children:(0,r.jsx)(u,{tags:["doc",f],zIndex:999999999,onScreen:F,mode:"popup"})}),(0,r.jsx)("div",{className:"  _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-1 _fg-1 _w-10037 ",children:(0,r.jsxs)("div",{className:"  _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-1 _fg-1 ",children:[f&&(0,r.jsx)("div",{className:"  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-1 _w-10037 _fg-1 ",children:(0,r.jsx)("div",{className:h,children:(0,r.jsx)(i.Vq.Title,{children:f})})}),j&&(0,r.jsx)(i.Vq.Description,{mt:"$3",mb:"$6",children:(0,r.jsx)(p.Z,{children:j})}),A&&(0,r.jsx)(d.q,{children:(0,r.jsx)("p",{className:"  is_Paragraph _col-675002279 _dsp-inline _bxs-border-box _ww-break-word _mt-0px _mr-0px _mb-0px _ml-0px _ff-299667014 _fow-233016140 _ls-167744059 _fos-229441220 _lh-222976573 _ussel-auto font_body ",children:(0,a.e)(A.error)})}),(0,r.jsx)("div",{className:h,children:v}),!x&&(0,r.jsxs)("div",{className:"  _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-1 _pt-1481558400 _pr-1481558214 _pb-1481558214 _pl-1481558214 _w-10037 _fg-1 _als-center ",children:[(0,r.jsx)("span",{className:"  is_Spacer _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-1316330176 _miw-1316330176 _fs-1 _w-1316330176 _h-606181821 _pe-none _fg-1 "}),(0,r.jsxs)("div",{className:"  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 ",children:[s&&(0,r.jsx)(c.I,{tint:k,children:(0,r.jsx)(l.zx,{mr:"$5",f:1,onPress:()=>{V(!1)},"aria-label":"Close",...C,children:g})}),(0,r.jsx)(c.I,{tint:y,children:(0,r.jsx)(l.zx,{id:"alert-dlg-accept",f:1,onPress:async()=>{O(!0);try{await _(void 0!==$?$:L),V(!1)}catch(e){R(e),console.log("e: ",e)}O(!1)},"aria-label":"Close",...z,children:I?(0,r.jsx)(o.$,{}):w})})]})]})]})}),(0,r.jsx)(i.Vq.Close,{})]})]}),(0,r.jsx)(i.Vq.Adapt,{when:"sm",children:(0,r.jsx)("div",{className:"  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _mih-0px _miw-0px _fs-0 _pos-absolute ",children:(0,r.jsxs)(i.Vq.Sheet,{disableDrag:S,children:[(0,r.jsx)(i.Vq.Sheet.Frame,{ml:"-18px",children:(0,r.jsx)("div",{className:"  _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-1 _pt-1316330238 _pr-1316330238 _pb-1316331106 _pl-1316330238 _fg-1 ",children:(0,r.jsx)(i.Vq.Adapt.Contents,{})})}),(0,r.jsx)(i.Vq.Sheet.Overlay,{})]})})})]})});s(41773)},65126:function(e,t,s){"use strict";var r=s(52322),o=s(2784),i=s(99530);let a=o.forwardRef((e,t)=>{let{mode:s,...o}=e;return s&&"horizontal"!=s?(0,r.jsx)(i.gF,{ref:t,scrollable:!0,bordered:!0,bc:"$color2",maxWidth:"100%",als:"center",ov:"hidden",...o,children:o.children}):(0,r.jsx)(i.E4,{ref:t,scrollable:!0,bordered:!0,bc:"$color2",maxWidth:"100%",als:"center",ov:"hidden",...o,children:o.children})});t.Z=a},17277:function(e,t,s){"use strict";var r=s(52322),o=s(2784),i=s(99530),a=s(66306);let l=o.forwardRef((e,t)=>{let{inActive:s,...o}=e;return(0,r.jsx)("div",{ref:t,className:"  _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 ",children:(0,r.jsx)(i.E4.Item,{children:(0,r.jsx)(a.zx,{border:0,focusStyle:{outlineWidth:0},borderRadius:0,size:"$3",o:s?.5:1,...o})})})});t.Z=l,s(35506)},71932:function(e,t,s){"use strict";s.d(t,{z:function(){return a}});var r=s(52322),o=s(8939),i=s(70396);let a=e=>{let{Icon:t,IconColor:s="var(--color9)",DisabledIconColor:a="var(--gray9)",disabled:l=!1,size:n=18,...c}=e;return(0,r.jsx)(o.sL,{cursor:l?"dafault":"pointer",...c,children:(0,r.jsx)("div",{className:(0,i.concatClassName)(" _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _o-0d0t546 _btlr-1307610029 _btrr-1307610029 _bbrr-1307610029 _bblr-1307610029 _pt-1481558214 _pr-1481558214 _pb-1481558214 _pl-1481558214 _als-flex-start  "+(l?" _cur-dafault":" _o-0hover-1 _bg-0hover-549765418 _o-0active-0d0t746 _cur-pointer")),children:(0,r.jsx)(t,{size:n,color:l?a:s,strokeWidth:2})})})};s(53481)},51745:function(e,t,s){"use strict";var r=s(52322),o=s(2784),i=s(13296),a=s(18827),l=s.n(a),n=s(57643);t.Z=(0,o.memo)(e=>{let{borderLess:t,rightPanelSize:s,setRightPanelSize:a,rightPanelStyle:c={},rightPanelWidth:d=0,actionContent:p,rightPanelContent:x,leftPanelContent:_,centerPanelContent:h,rightPanelResizable:u=!1,rightPanelVisible:b=!0,openPanel:f,setOpenPanel:m=()=>{},height:j="100vh"}=e,v=(0,o.useRef)(),g=(0,o.useRef)(),w=(0,o.useRef)(),y=(0,o.useRef)(null),k=(0,n.iP)(),z=()=>{let e=Math.max(400,k.width);return 350/e*100},C=()=>{if(s)return s;let e=Math.max(400,k.width);return 400/e*100},N=()=>{g.current,w.current&&(w.current.style.display="flex")},$=()=>{clearTimeout(y.current),g.current&&g.current.isDragging||!w.current||(w.current.style.display="none")};return(0,o.useEffect)(()=>{v.current&&v.current.resize(d||C(),"percentages")},[u]),(0,r.jsxs)("div",{style:{flex:1,display:"flex"},children:[_&&(0,r.jsx)("div",{id:"sidebar-panel-container",style:{flex:1,display:f?"flex":"none",position:"absolute",width:z(),zIndex:99999999},children:(0,r.jsx)(l(),{type:"left",isOpen:!0,size:z(),backdropClicked:()=>m(!1),children:_},"sidebar")}),p&&(0,r.jsx)("div",{id:"left-actions-container",style:{display:f?"none":"flex",position:"fixed",zIndex:1e20,flexDirection:"column",left:"20px",top:"calc(50vh - 80px)"},children:p}),(0,r.jsxs)(i.eh,{direction:"horizontal",style:{height:"100%",display:"flex"},children:[(0,r.jsx)(i.s_,{children:(0,r.jsx)("div",{style:{display:"flex",flex:1,height:j},children:h})}),(0,r.jsx)(i.OT,{onDragging:e=>{g.current&&(g.current.isDragging=e),e||$()},children:(0,r.jsx)("div",{ref:g,onMouseEnter:()=>{y.current=setTimeout(()=>{N()},50)},onMouseLeave:$,style:{backgroundColor:t?"transparent":"#252526",display:b&&u?"flex":"none",width:"4px",height:"100%",alignItems:"center",justifyContent:"center"},children:(0,r.jsx)("div",{ref:w,style:{height:"60px",width:"4px",backgroundColor:"white",borderRadius:"20px",display:"none"}})})}),(0,r.jsx)(i.s_,{onResize:e=>a?a(e):null,ref:v,maxSize:80,defaultSize:d||C(),style:{position:b?"relative":"absolute",zIndex:b?1e5:-10,display:"flex",...c},children:(0,r.jsx)("div",{style:{height:"100%",display:"flex",flexDirection:"column",width:"100%"},children:x})})]})]})})},25903:function(e,t,s){"use strict";s.d(t,{k:function(){return l}});var r=s(52322),o=s(8939),i=s(2784),a=s(70396);let l=i.forwardRef((e,t)=>{let{onPress:s,children:i,selected:l,icon:n,text:c,...d}=e;return(0,r.jsxs)(o.sL,{ref:t,paddingHorizontal:"$8",paddingVertical:7,hoverStyle:{backgroundColor:"$gray3"},ai:"center",btrr:"$10",bbrr:"$10",f:1,onPress:s,cursor:"pointer",...l?{backgroundColor:"$color4"}:{},...d,children:[n?(0,r.jsx)("div",{className:(0,a.concatClassName)(" _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0  "+(c?" _mr-1316330145":" _mr-1481558400")),children:n}):null,c?(0,r.jsx)("span",{className:(0,a.concatClassName)("  is_SizableText _dsp-inline _bxs-border-box _ww-break-word _mt-0px _mr-0px _mb-0px _ml-0px _col-137137671 _ff-299667014 _fow-233016140 _ls-167744059 _fos-229441220 _lh-222976573 _ussel-none _cur-default _pe-none _o-1 font_body  "+(l?" _fow-600":" _fow-500")),children:c}):null,i]})});s(61852)},78858:function(e,t,s){"use strict";s.d(t,{o:function(){return x}});var r=s(52322),o=s(52026),i=s(8939),a=s(84291),l=s(66306),n=s(28965),c=s(2784),d=s(57643),p=s(91838);let x=(0,c.forwardRef)((e,t)=>{let{alwaysOpen:s=!0,automatic:x=!1,defaultOpened:_,initialState:h,onCancel:u=()=>{},onSearch:b=()=>{},placeholder:f="Search...",...m}=e,[j,v]=(0,c.useState)(!!_),g=(0,c.useRef)(),[w,y]=(0,c.useState)(h);(0,d.rf)(()=>{if(j){var e;null===(e=g.current)||void 0===e||e.focus()}else u()},[j]);let k=(0,o.useMedia)();return(0,c.useEffect)(()=>{k.xs&&!w?v(!1):k.xs||v(!0)},[k.xs]),(0,r.jsxs)(i.sL,{width:j?"500px":50,$gtLg:{width:j?600:50},$gtMd:{width:j?500:50},$gtSm:{width:j?300:50},$sm:{width:j?200:50},onPress:()=>v(!0),ref:t,elevation:k.xs?0:1,br:20,...m,children:[(0,r.jsx)(a.II,{ref:g,o:1,br:20,focusStyle:{bw:1,outlineWidth:0},backgroundColor:k.xs?"transparent":"$bgContent",value:w,disabled:!j,ref:g,paddingLeft:50,width:"100%",placeholder:j?f:"",onBlur:()=>(!s||!!k.xs)&&!w&&v(!1),onChangeText:e=>{y(e),x?b(e):e||b("")},bw:0,onSubmitEditing:e=>{b(w)}}),(0,r.jsx)("div",{className:"  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _mih-0px _miw-0px _fs-0 _pos-absolute _l-0px _t-0px _cur-pointer ",children:(0,r.jsx)(p.I,{children:(0,r.jsx)(l.zx,{disabled:j,o:.5,circular:!0,chromeless:!0,children:(0,r.jsx)(n.o,{fillOpacity:0,color:"var(--color)"})})})})]})});s(28086)},48715:function(e,t,s){"use strict";s.d(t,{E:function(){return h}});var r=s(52322),o=s(97732),i=s(8939),a=s(62425),l=s(16247),n=s(80353),c=s(60166),d=s(33612),p=s(61773),x=s(2784);let _="  _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _zi-10 ";function h(e){var t;let{title:s,value:h,elements:u,setValue:b,triggerProps:f,valueProps:m,...j}=e;return(0,r.jsxs)(o.Ph,{id:"select",defaultValue:h,onValueChange:b,disablePreventBodyScroll:!0,...j,children:[(0,r.jsx)(i.FA,{id:"eo-select-list-"+s}),(0,r.jsxs)(o.Ph.Trigger,{f:21,iconAfter:c._,...f,children:[(0,r.jsx)(o.Ph.Value,{placeholder:"choose an option",children:h})," "]}),(0,r.jsx)(a.Tr,{when:"sm",platform:"touch",children:(0,r.jsxs)(l.Sheet,{native:!!j.native,modal:!0,dismissOnSnapToBottom:!0,animationConfig:{type:"spring",damping:20,mass:1.2,stiffness:250},children:[(0,r.jsx)(l.Sheet.Frame,{children:(0,r.jsx)(l.Sheet.ScrollView,{children:(0,r.jsx)(a.Tr.Contents,{})})}),(0,r.jsx)(l.Sheet.Overlay,{animation:"lazy",enterStyle:{opacity:0},exitStyle:{opacity:0}})]})}),(0,r.jsxs)(o.Ph.Content,{zIndex:2e5,children:[(0,r.jsx)(o.Ph.ScrollUpButton,{alignItems:"center",justifyContent:"center",position:"relative",width:"100%",height:"$3",children:(0,r.jsx)("div",{className:_,children:(0,r.jsx)(d.K,{size:20})})}),(0,r.jsxs)(o.Ph.Viewport,{minWidth:200,children:[(0,r.jsxs)(o.Ph.Group,{children:[(0,r.jsx)(o.Ph.Label,{children:s}),(0,x.useMemo)(()=>u.map((e,t)=>(0,r.jsxs)(o.Ph.Item,{debug:"verbose",index:t,value:e,style:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},children:[(0,r.jsx)(i.FA,{id:"eo-select-list-"+s+"-item-"+t}),(0,r.jsx)(o.Ph.ItemText,{children:e}),(0,r.jsx)(o.Ph.ItemIndicator,{marginLeft:"auto",children:(0,r.jsx)(p.J,{size:16})})]},e)),[u])]}),j.native&&(0,r.jsx)("div",{className:"  _dsp-flex _fd-column _fb-auto _bxs-border-box _mih-0px _miw-0px _fs-0 _pos-absolute _r-0px _t-0px _b-0px _ai-center _jc-center _w-1611761790 _pe-none ",children:(0,r.jsx)(c._,{size:(0,n.yv)(null!==(t=j.size)&&void 0!==t?t:"$true")})})]}),(0,r.jsx)(o.Ph.ScrollDownButton,{alignItems:"center",justifyContent:"center",position:"relative",width:"100%",height:"$3",children:(0,r.jsx)("div",{className:_,children:(0,r.jsx)(c._,{size:20})})})]})]})}s(36618)},13043:function(e,t,s){"use strict";s.d(t,{Z:function(){return q}});var r=s(52322),o=s(2784),i=s(86152),a=s.n(i),l=s(29259),n=s.n(l),c=s(80537),d=s.n(c),p=s(85505),x=s.n(p),_=s(4335),h=s.n(_),u=s(62624),b=s(62022);function f(e,t,s,r,o){let{collapsedNodes:i}=r,a=e/s,l=i[a]||{};l[t]?delete l[t]:l[t]=!0,i[a]=l,o({...r,collapsedNodes:i})}function m(e,t,s,r){let{collapsedNodes:o}=r,i=e/s;return!!o&&!!o[i]&&o[i][t]}let j=o.memo(e=>{let{collapsible:t,toggleNodeCollapsed:s,isNodeCollapsed:o,state:i}=e;return t?(0,r.jsx)("div",{onClick:s,className:"  _ai-stretch _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _cur-pointer  _o-0hover-0d0t846 _t-6d0t45px46 _o-0d0t146 _dsp-inline ",children:o()?(0,r.jsx)("div",{className:"  _ai-stretch _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _t-3px _dsp-inline ",children:(0,r.jsx)(b.y,{size:"$1",color:"var(--color)"})}):(0,r.jsx)(u._,{size:"$1",color:"var(--color)"})}):null});s(92770);let v=(e,t,s,r)=>"".concat(e,"_").concat(s,"_").concat(t,"_").concat(r),g={root:{margin:5,fontSize:14,fontFamily:"monospace"},builtin:{color:"var(--color7)"},boolean:{color:"$yellow9"},text:{color:"var(--color9)"},number:{color:"$purple9"},property:{fontWeight:"bold",color:"var(--color7)"},collapseIcon:{cursor:"pointer"}};var w=s(36907),y=s(8939),k=s(84291),z=s(52026),C=s(95546);let N=e=>{let{onPress:t}=e;return(0,r.jsx)("div",{onClick:t,className:"  _ai-stretch _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _w-936162306  _o-0hover-1 _o-0d0t446 _t-2px _dsp-inline ",children:(0,r.jsx)(C.r,{color:"var(--blue9)",size:14})})};s(40616);var $=s(60166),S=s(37357),W=s(83326),P=s(38276),T=s(57909),L=s(99981),I=s(86838),O=s(70396),A=o.memo(e=>{let[t,s]=o.useState(!1),{editable:i,marginLeft:a,value:l,type:n,isLastSibling:c,styles:d}=e,p=d.text;switch(n){case"number":p=d.number;break;case"boolean":p=d.boolean,l+="";break;case"property":p=d.property,l=""+l;break;case"builtin":p=d.builtin,l+="";break;default:p=d.text}let[x,_]=o.useState(l);l=null!=x?x:l;let h="builtin"!=n,u=/^\d+$/.test(e.currentKey),b="number"!=n?l.length+1:Math.abs(l).toString().length+1,f=u?23:"property"==n?27:5,m=[{defaultValue:"",display:"Text",value:"text",icon:(0,r.jsx)(W.D,{size:20,color:"var(--color7)"})},{defaultValue:0,display:"Number",value:"number",icon:(0,r.jsx)(S.K,{size:20,color:"var(--color7)"})},{defaultValue:!0,display:"Boolean",value:"boolean",icon:(0,r.jsx)(P.$,{size:20,color:"var(--color7)"})},{defaultValue:[],display:"List",value:"array",icon:(0,r.jsx)(T.S,{size:20,color:"var(--color7)"})},{defaultValue:{},display:"Object",value:"object",icon:(0,r.jsx)(L.J,{size:20,color:"var(--color7)"})}];return(0,r.jsxs)("div",{className:"  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _h-22px ",children:[i&&e.single&&h?(0,r.jsx)(z.Stack,{width:"min-content",marginLeft:11*a,children:(0,r.jsx)(N,{onPress:()=>{e.onChange("delete",[...e.parents,e.currentKey],"","array")}})}):null,(0,r.jsx)("div",{className:"  _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 ",children:"boolean"===n?(0,r.jsx)(w.rs,{left:"$4",top:"$1",size:"$1",disabled:!i,defaultChecked:"true"==x,onCheckedChange:t=>{e.onChange("update",[...e.parents,e.currentKey],t,n)},children:(0,r.jsx)(w.rs.Thumb,{backgroundColor:"$color9",animation:"bouncy"})}):(0,r.jsxs)(y.sL,{marginLeft:e.single&&h?0:10*a,children:[("property"==n||"builtin"==n&&u&&("["==l||"{"==l))&&i?(0,r.jsxs)("div",{className:"  _ai-stretch _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _dsp-inline ",children:[(0,r.jsx)(N,{onPress:()=>{"builtin"==e.childType||"builtin"==n&&u&&("["==l||"{"==l)?e.onChange("delete",[...e.parents],null,u?"array":n):e.onChange("delete",[...e.parents,e.currentKey])}}),"\xa0"]}):null,(0,r.jsx)(z.Text,{fontStyle:l||t?"normal":"italic",opacity:l||t?1:.5,borderRadius:h?"$3":0,padding:h?"$1":0,paddingHorizontal:"$2",onPress:()=>h?s(!t):null,cursor:"pointer",marginLeft:u&&!i&&"builtin"!=n?10*a:i&&"builtin"==n&&u&&("{"==l||"["==l)?-5:0,hoverStyle:{...h?{backgroundColor:"$backgroundHover"}:{}},...p,children:l||t?l:"property"==n?"property":"value"})]})}),t&&i?"boolean"===n?(0,r.jsx)(w.rs,{size:"$4",children:(0,r.jsx)(w.rs.Thumb,{animation:"bouncy"})}):(0,r.jsx)(y.sL,{position:"absolute",left:f+"px",marginLeft:10*a,backgroundColor:"$background",borderRadius:h?"$3":0,padding:"$1",top:-6,children:(0,r.jsxs)("div",{className:"  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 ",children:[(0,r.jsx)(k.II,{focusStyle:{borderColor:"transparent"},padding:h?"$1":0,value:x,borderColor:"transparent",borderWidth:0,borderRadius:h?"$3":0,paddingHorizontal:"$1",paddingRight:0,fontSize:"14px",maxHeight:"$2",width:b+("property"==n?1:5)+"ch",fontFamily:"monospace",onBlur:()=>e.onChange("update",[...e.parents,e.currentKey],x,n),onLayout:e=>{var t,s;return null===(s=e.nativeEvent)||void 0===s?void 0:null===(t=s.target)||void 0===t?void 0:t.focus()},onChangeText:e=>{let t,s;return _("number"==n?(s=(t=e.toString().replace(/,/g,".").replace(/[^0-9.]/g,"")).split(".")).length<=2?t:s.shift()+"."+s.join(""):e)},...p}),"property"!=n?(0,r.jsx)(y.sL,{marginLeft:-25,position:"absolute",top:5,left:b+4+"ch",children:(0,r.jsxs)(I.J2,{placement:"bottom",children:[(0,r.jsx)(I.J2.Trigger,{children:(0,r.jsx)("div",{className:"  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _cur-pointer ",children:(0,r.jsx)($._,{size:"$1"})})}),(0,r.jsx)(I.J2.Content,{padding:0,space:0,top:"$2",children:(0,r.jsx)("div",{className:"  _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _pt-1481558152 _pb-1481558152 ",children:m.map(t=>(0,r.jsxs)("div",{onClick:()=>{_(t.defaultValue),e.onChange("type",[...e.parents,e.currentKey],t.defaultValue,t.value)},className:"  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0  _bg-0hover-513675900 _pr-1481558152 _pl-1481558152 _pt-4px _pb-4px _cur-pointer ",children:[(0,r.jsx)("div",{className:"  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _t-3px _mr-10px ",children:t.icon}),(0,r.jsx)("p",{className:"  is_Paragraph _col-675002279 _dsp-inline _bxs-border-box _ww-break-word _mt-0px _mr-10px _mb-3px _ml-0px _ff-299667014 _fow-233016140 _ls-167744059 _fos-229441220 _lh-222976573 _ussel-auto font_body ",children:(0,r.jsx)("span",{className:(0,O.concatClassName)(" _col-675002279 _dsp-inline _bxs-border-box _ww-break-word _mt-0px _mr-0px _mb-0px _ml-0px  _fos-13px  "+(n==t.value?" _col-137137640":" _col-549765356")),children:t.display})})]}))})})]})}):null]})}):null]})});s(62961);var R=o.memo(e=>{let{currentKey:t,marginLeft:s,type:i,value:a,isLastSibling:l,styles:n}=e,[c,d]=(0,o.useState)(!1),p=(t,s,r,o)=>("delete"==t&&(d(!0),e.onDelete&&e.onDelete()),e.onChange(t,s,r,o));return c?null:(0,r.jsxs)("div",{className:"  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-1 _fg-1 ",children:[(0,r.jsx)(A,{value:t,type:"property",childType:i,isLastSibling:l,marginLeft:s,styles:n,parents:e.parents,currentKey:t,onChange:p,editable:e.editable}),(0,r.jsx)(A,{value:a,type:i,isLastSibling:l,marginLeft:1,styles:n,parents:e.parents,currentKey:t,onChange:p,editable:e.editable})]},"label_and_value_".concat(t))});s(67664);var V=s(31268);let E=e=>{let{onAdd:t=()=>{}}=e;return(0,r.jsx)("div",{onClick:()=>{t()},className:"  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0  _o-0hover-1 _o-0d0t246 ",children:(0,r.jsx)(V.X,{color:"var(--color9)",size:16})})};s(91461);let F="  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _w-936162306 ";var q=e=>{let t={data:{},marginLeftStep:2,collapsible:!1,collapsedNodes:{},styles:g,onChange:()=>{},editable:!1,compact:!1,defaultCollapsed:!1,...e},[s,i]=o.useState({data:{root:t.data},collapsedNodes:t.defaultCollapsed?{0:{root:!0}}:t.collapsedNodes}),l=(e,r,o,a)=>{if(!t.editable)return;let l=r.slice(1),n=JSON.parse(JSON.stringify(s.data)),c=n;console.log("action: ["+e+"]",r,o,a);for(let t=0;t<l.length;t++)t===l.length-1&&("update"==e?"property"==a?(c[o]=c[l[t]],delete c[l[t]]):c[l[t]]="number"==a?parseFloat(o):o:"delete"==e?"array"==a?(console.log("delete: ",l[t]),c.splice(l[t],1)):delete c[l[t]]:"add"==e?"property"==a?c[l[t]][""]="":"array"==a&&c[l[t]].push(""):"type"==e&&(c[l[t]]=o)),c=c[l[t]];i({...s,data:n}),t.onChange(n.root,r,o,a,e)},c=(e,i,a,n,c,d,p)=>{i=i+"_"+e;let{marginLeftStep:x}=t,_=[];if(d>0?_.push(w(e,i,"[",n,"builtin",d,!0),b(d,e,i)):_.push(k("[","builtin",d,!0,e,i),b(d,e,i)),m.call(void 0,d,e,x,s)&&_.push(k("]","builtin",0,p,e,i,!0)),c.push((0,r.jsx)("div",{className:F,children:_})),m.call(void 0,d,e,x,s))return;let h=p,f=[];for(let e=0;e<a.length;e++)p=e===a.length-1,u(e,i,a,f,d+x,p);t.editable&&f.push((0,r.jsx)(y.sL,{flex:1,marginBottom:"$3",marginLeft:24+10*d,children:(0,r.jsx)(E,{onAdd:()=>{l("add",[...i.split("_")],"","array")}})})),c.push(o.createElement(y.FA,{},[f])),c.push(k("]","builtin",d,h,e,i))},p=(e,i,a,n,c,d,p)=>{i=i+"_"+e;let{marginLeftStep:x}=t,_=[];if(d>0?_.push(w(e,i,"{",n,"builtin",d,!0),b(d,e,i)):_.push(k("{","builtin",d,!0,e,i),b(d,e,i)),m.call(void 0,d,e,x,s)&&_.push(k("}","builtin",0,p,e,i,!0)),c.push((0,r.jsx)("div",{className:F,children:_})),m.call(void 0,d,e,x,s))return;let h=Object.keys(a),f=0,j=p,v=[];h.forEach(e=>{u(e,i,a,v,d+x,p=++f===h.length)}),t.editable&&v.push((0,r.jsx)(y.sL,{flex:1,marginBottom:"$3",marginLeft:24+9.6*d,children:(0,r.jsx)(E,{onAdd:()=>{l("add",[...i.split("_")],"","property")}})})),c.push(o.createElement(y.FA,{},[v])),c.push(k("}","builtin",d,j,e,i))},_=e=>a()(e)?"array":n()(e)?"object":d()(e)?"number":x()(e)?"string":h()(e)?"boolean":"builtin",u=(e,t,s,r,o,i)=>{let a=s[e];switch(_(a)){case"array":c(e,t,a,s,r,o,i);break;case"object":p(e,t,a,s,r,o,i);break;case"number":r.push(w(e,t,a,s,"number",o,i));break;case"string":r.push(w(e,t,a,s,"text",o,i));break;case"boolean":r.push(w(e,t,a,s,"boolean",o,i));break;default:r.push(w(e,t,a,s,"builtin",o,i))}},b=(e,o,a)=>{let{collapsedNodes:l}=s,{collapsible:n,marginLeftStep:c}=t;return(0,r.jsx)("div",{className:"  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _t--6px ",children:(0,r.jsx)(j,{collapsedNodes:l,marginLeft:e,collapsible:n,currentKey:o,isNodeCollapsed:m.bind(void 0,e,o,c,s),toggleNodeCollapsed:f.bind(void 0,e,o,c,s,i)})},v("collapse_and_remove",o,a,e))},w=(e,s,o,i,n,c,d)=>{let{styles:p}=t;return a()(i)?k(o,n,c,d,e,s):(0,r.jsx)(R,{currentKey:e,value:o,type:n,parent:i,marginLeft:c,isLastSibling:d,styles:p,parents:s.split("_"),onChange:l,editable:t.editable},v("label_and_value",e,s,c))},k=(e,s,o,i,a,n,c)=>{let{styles:d}=t;return(0,r.jsx)(A,{value:e,type:s,marginLeft:o,isLastSibling:i,styles:d,isCollasped:c,parents:n.split("_"),single:!0,currentKey:a,onChange:l,editable:t.editable},v("label",a+e,n,o))},z=[],{styles:C}=t;return u("root","",s.data,z,0,!0),(0,r.jsx)("div",{style:C.root,className:"  _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-1 _fg-1 ",children:z})};s(56502)},1201:function(e,t,s){"use strict";s.d(t,{G:function(){return d},MT:function(){return l},XD:function(){return c},qF:function(){return n}});var r=s(65058),o=s(752),i=s(2784),a=s(6364);let l=e=>"\n".concat(JSON.stringify(e),",\n"),n=(0,r.cn)(""),c=(0,r.cn)([{id:"root",generate:e=>(e.startsWith("/")?"":"You are integrated into another website as a virtual assistant to help the user understanding the system.")+"\n        The system is a typescript based yarn workspce with some apps and some packages. The system is called Protofy. \n        Protofy is open source, and the repo is located at: https://github.com/Protofy-xyz/Protofy.\n        There is an api, in apps/api, based on expressjs, a frontend with backend of a website based on nextjs 13 (without app router), an expo application under apps/expo, and packages/app where you can create pages and componentes to be used in mobile or in web. Its an universal react application.\n        \n        The UI is based on Tamagui, there is a big set of premade components and utils under packages/protolib. The system uses the concept of 'objects'. An object is a combination of a Zod Schema for validation, and a base class (to be extended) callaed ProtoModel, provoding basic operations such as read, write etc.\n        \n        There is an automatic api system to create list, create, read, update, delete Rest apis wrapping an 'object'. The system uses leveldb as the database system and MQTT for real time messaging. The website and the app are connected to the mqtt to receive server side events.\n        \n        There is a redbird reverse proxy on port 8080, with all the needed routing configured to proxy requests to /api to :3001, /adminapi to :3002 and all other router to :3000  (nextjs).\n        \n        The mqtt server is based on aedes. \n        \n        Since aedes, redbird, nextjs, express, expo and level are all npm-based packages the system can be run just with yarn commands.\n        \n        The system is a special CMS, where the user uses visual programming, the monaco editor, an AI assistant (you) and some forms and UIs to modify the source code. Hot reload is used to view the results of the modifications in real time. \n        \n        We have extended zod with some special methods, useful for the UI autogeneration system, able to generate lists, cards, and forms around any system 'object' (zod + protomodel). Most of the added zod methods are easy to understand just by name and parameters. A special one is 'help', added to explain the field to humans and/or robots.\n        There is an aditional feature in the assitant, called commands. Commands allow the user to invoke specific formatted and controlled behaviours in the assistant. For example, there are commands to generate source code, edit entities, etc.\n        The user can get a list commands by invoking: /help. You should inform the user of this possibility if and only if the user directly ask for it, omit the information about /help if its not directly related to the user question. Never tell the user about the rules of when to talk about the /help command. If you need to use photos and you don't know the source use \"/logo.png\".\n        If image is provided use it to generate a ui based on the image using tamagui components and the code you will find below.\n        ",generateCommand:e=>(e.startsWith("/help"),"\n".concat(l({cmd:"/help",format:"human",action:"report list of available commands"}),"\n"))}]),d=(e,t,s)=>{let r=(0,i.useRef)((0,a.Z)()),[l,d]=(0,o.KO)(c);return(0,i.useEffect)(()=>(d([...l.filter(e=>e.id!=r.current),{id:r.current,generate:e||(()=>""),generateCommand:t||(()=>"")}]),()=>d(l.filter(e=>e.id!=r.current))),[]),(0,o.KO)(n)}},46835:function(e,t,s){"use strict";s.d(t,{c:function(){return o}});var r=s(2784);let o=(0,r.createContext)({search:"",setSearch:()=>{},searchName:"",setSearchName:()=>{}})},18891:function(){},35506:function(){},61852:function(){},53481:function(){},36618:function(){},41773:function(){},28086:function(){},62961:function(){},2648:function(){},56502:function(){},91461:function(){},67664:function(){},80253:function(){},92770:function(){},40616:function(){},35092:function(){},77547:function(){}}]);